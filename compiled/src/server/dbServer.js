'use strict';

var mysql = require('mysql');

var connection = mysql.createConnection({
    host: 'localhost',
    user: 'root',
    password: 'mysqlsucks',
    database: 'movies'
});
connection.connect();

// var MongoClient = require('mongodb').MongoClient

// // Connection URL
// var url = 'mongodb://localhost:8000';

// // Use connect method to connect to the server
// MongoClient.connect(url, function(err, db) {
//   console.log("Connected successfully to server");
//   if (err) console.log(err);

//   db.close();
// });

var postUserAddedMovie = function postUserAddedMovie(input) {
    console.log(input);
    connection.query('INSERT INTO movies(title) values (\'' + input.title + '\')', function (err, result) {
        console.log('inserted');
    });
};
var getStoredMovies = function getStoredMovies(callback) {
    connection.query('SELECT * FROM movies', function (err, result) {
        console.log(result);
        callback(null, result);
    });
};

// module.exports.connection = connection;
module.exports.postUserAddedMovie = postUserAddedMovie;
module.exports.connection = connection;
module.exports.getStoredMovies = getStoredMovies;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9zZXJ2ZXIvZGJTZXJ2ZXIuanMiXSwibmFtZXMiOlsibXlzcWwiLCJyZXF1aXJlIiwiY29ubmVjdGlvbiIsImNyZWF0ZUNvbm5lY3Rpb24iLCJob3N0IiwidXNlciIsInBhc3N3b3JkIiwiZGF0YWJhc2UiLCJjb25uZWN0IiwicG9zdFVzZXJBZGRlZE1vdmllIiwiaW5wdXQiLCJjb25zb2xlIiwibG9nIiwicXVlcnkiLCJ0aXRsZSIsImVyciIsInJlc3VsdCIsImdldFN0b3JlZE1vdmllcyIsImNhbGxiYWNrIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJQSxRQUFRQyxRQUFRLE9BQVIsQ0FBWjs7QUFFQSxJQUFJQyxhQUFhRixNQUFNRyxnQkFBTixDQUF1QjtBQUNwQ0MsVUFBTSxXQUQ4QjtBQUVwQ0MsVUFBTSxNQUY4QjtBQUdwQ0MsY0FBVSxZQUgwQjtBQUlwQ0MsY0FBVTtBQUowQixDQUF2QixDQUFqQjtBQU1BTCxXQUFXTSxPQUFYOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxJQUFJQyxxQkFBcUIsU0FBckJBLGtCQUFxQixDQUFDQyxLQUFELEVBQVc7QUFDaENDLFlBQVFDLEdBQVIsQ0FBWUYsS0FBWjtBQUNBUixlQUFXVyxLQUFYLDBDQUF1REgsTUFBTUksS0FBN0QsVUFBd0UsVUFBQ0MsR0FBRCxFQUFNQyxNQUFOLEVBQWlCO0FBQ3JGTCxnQkFBUUMsR0FBUixDQUFZLFVBQVo7QUFDSCxLQUZEO0FBR0gsQ0FMRDtBQU1BLElBQUlLLGtCQUFrQixTQUFsQkEsZUFBa0IsQ0FBQ0MsUUFBRCxFQUFjO0FBQ2hDaEIsZUFBV1csS0FBWCx5QkFBeUMsVUFBQ0UsR0FBRCxFQUFNQyxNQUFOLEVBQWlCO0FBQ3RETCxnQkFBUUMsR0FBUixDQUFZSSxNQUFaO0FBQ0FFLGlCQUFTLElBQVQsRUFBZUYsTUFBZjtBQUNILEtBSEQ7QUFJSCxDQUxEOztBQU9BO0FBQ0FHLE9BQU9DLE9BQVAsQ0FBZVgsa0JBQWYsR0FBb0NBLGtCQUFwQztBQUNBVSxPQUFPQyxPQUFQLENBQWVsQixVQUFmLEdBQTRCQSxVQUE1QjtBQUNBaUIsT0FBT0MsT0FBUCxDQUFlSCxlQUFmLEdBQWlDQSxlQUFqQyIsImZpbGUiOiJkYlNlcnZlci5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBteXNxbCA9IHJlcXVpcmUoJ215c3FsJyk7XG5cbnZhciBjb25uZWN0aW9uID0gbXlzcWwuY3JlYXRlQ29ubmVjdGlvbih7XG4gICAgaG9zdDogJ2xvY2FsaG9zdCcsXG4gICAgdXNlcjogJ3Jvb3QnLFxuICAgIHBhc3N3b3JkOiAnbXlzcWxzdWNrcycsXG4gICAgZGF0YWJhc2U6ICdtb3ZpZXMnXG59KVxuY29ubmVjdGlvbi5jb25uZWN0KCk7XG5cbi8vIHZhciBNb25nb0NsaWVudCA9IHJlcXVpcmUoJ21vbmdvZGInKS5Nb25nb0NsaWVudFxuXG4vLyAvLyBDb25uZWN0aW9uIFVSTFxuLy8gdmFyIHVybCA9ICdtb25nb2RiOi8vbG9jYWxob3N0OjgwMDAnO1xuXG4vLyAvLyBVc2UgY29ubmVjdCBtZXRob2QgdG8gY29ubmVjdCB0byB0aGUgc2VydmVyXG4vLyBNb25nb0NsaWVudC5jb25uZWN0KHVybCwgZnVuY3Rpb24oZXJyLCBkYikge1xuLy8gICBjb25zb2xlLmxvZyhcIkNvbm5lY3RlZCBzdWNjZXNzZnVsbHkgdG8gc2VydmVyXCIpO1xuLy8gICBpZiAoZXJyKSBjb25zb2xlLmxvZyhlcnIpO1xuXG4vLyAgIGRiLmNsb3NlKCk7XG4vLyB9KTtcblxudmFyIHBvc3RVc2VyQWRkZWRNb3ZpZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKGlucHV0KVxuICAgIGNvbm5lY3Rpb24ucXVlcnkoYElOU0VSVCBJTlRPIG1vdmllcyh0aXRsZSkgdmFsdWVzICgnJHtpbnB1dC50aXRsZX0nKWAsIChlcnIsIHJlc3VsdCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygnaW5zZXJ0ZWQnKTtcbiAgICB9KTtcbn1cbnZhciBnZXRTdG9yZWRNb3ZpZXMgPSAoY2FsbGJhY2spID0+IHtcbiAgICBjb25uZWN0aW9uLnF1ZXJ5KGBTRUxFQ1QgKiBGUk9NIG1vdmllc2AsIChlcnIsIHJlc3VsdCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xuICAgICAgICBjYWxsYmFjayhudWxsLCByZXN1bHQpO1xuICAgIH0pXG59XG4gXG4vLyBtb2R1bGUuZXhwb3J0cy5jb25uZWN0aW9uID0gY29ubmVjdGlvbjtcbm1vZHVsZS5leHBvcnRzLnBvc3RVc2VyQWRkZWRNb3ZpZSA9IHBvc3RVc2VyQWRkZWRNb3ZpZTtcbm1vZHVsZS5leHBvcnRzLmNvbm5lY3Rpb24gPSBjb25uZWN0aW9uO1xubW9kdWxlLmV4cG9ydHMuZ2V0U3RvcmVkTW92aWVzID0gZ2V0U3RvcmVkTW92aWVzOyJdfQ==